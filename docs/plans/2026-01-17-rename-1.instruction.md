# Task 1: dre参照の棚卸し（調査＋記録のみ）

## 1) まずは網羅検索（全ファイル対象）
rg -n "\bdre\b" .
rg -n "dre-" .
rg -n "DRE" .

## 2) “自動実行/運用”系を重点で追加検索（見落としが致命的）
rg -n "\bdre\b" .github .gitlab* .circleci* 2>/dev/null || true
rg -n "\bdre\b" docker* docker-compose* compose* 2>/dev/null || true
rg -n "\bdre\b" Makefile *make* 2>/dev/null || true
rg -n "\bdre\b" scripts bin deploy infra ops 2>/dev/null || true
rg -n "\bdre\b" systemd *.service *.timer 2>/dev/null || true
rg -n "\bdre\b" crontab* cron* 2>/dev/null || true
rg -n "\bdre\b" package.json pnpm-lock.yaml yarn.lock package-lock.json 2>/dev/null || true

## 3) 結果を docs/migration-cli-rename.md に“分類して”記録（貼り付け禁止）
# 形式は以下：
# - code: 実行コード/ライブラリ内の参照（src/, lib/, app/等）
# - scripts: scripts/, bin/, task runner など
# - docs: README, docs 配下
# - ci: GitHub ActionsなどCI設定
# - ops: cron/systemd/docker/デプロイなど “自動実行箇所”
# - config: package.json, env例, 設定ファイル類
# - misc: その他
#
# 各エントリは「ファイルパス:行番号」「該当行の短い要約（何のための呼び出しか）」を付ける。
# 例:
# - ops
#   - infra/cron/run.sh:12  nightly実行で `dre run-due` を呼んでいる

## 4) 最後に “残数” を明記
# docs/migration-cli-rename.md の末尾に
# - 総ヒット数（概算でOK）
# - ops/ci に何件あるか（最重要）
# を書く。

## 5) このタスクでは置換しない（調査＋記録のみ）
