## Approach Reviewer によるレビュー結果

### 1. 判定 (Decision)

- **Status**: Approve

**判定基準:** P0 が0件であるため Approve とする。

### 2. 良い点 (Strengths)

- **セクション1（要約）・セクション4（前提条件）**: 既存ドキュメントとコードベースの乖離を前提として明示し、「コードベースの実装を正とする」方針を宣言している。既知の乖離点を6項目の具体的な比較表で列挙しており、実装時に陳腐化した情報を誤って転記するリスクを事前に排除している。課題の定義が正確であり、前提に飛躍がない。
- **セクション2（背景・動機）**: CLAUDE.md 規約との不一致を3点の具体的事例（`arch.md` のドメインモデル混在、`spec.md` のインターフェースとドメインの混在、独立ドキュメントの不在）で示しており、本 RFC の必要性が論理的に導かれている。既存の仕組みでは規約を満たせないことが明確であり、「そもそもこの RFC は不要ではないか」という問いに対して十分な回答がある。
- **セクション3（Goals & Non-Goals）**: スコープが適切に制御されている。`ops.md` の除外、コード変更の除外、他リポジトリへの展開の除外という3つの Non-Goals により、作業範囲が過大にならないよう歯止めが設けられている。Goals の「コードベース調査に基づき正確な情報で新ドキュメントを作成する」は前提条件と整合しており、矛盾がない。
- **セクション5.2（新ドキュメントの構成）**: `domain-model.md` のドメイン概念として全8概念（Book, Job, Delivery, DeliveryItem, Quota, Cursor, Prompt, PromptToken）を列挙し、データ永続化セクションでは全8テーブルのスキーマを `src/db/init.ts` の `initSchema` と整合する形で明示的に記載している。曖昧な「補完」表現を排し、設計段階で全テーブルを確定させている点は堅実である。
- **セクション6（代替案の検討）**: 3案の比較において、個人プロジェクトという文脈を正しく考慮している。案B の Git 履歴保持が内容の大幅変更により無意味になる点、案C の移行期間が個人プロジェクトでは不要な点の判断は、いずれも合理的である。より単純な代替手段の検討が十分に行われている。

### 3. 指摘事項 (Issues)

#### Severity 定義

| Severity | 定義 |
| :--- | :--- |
| **P0 (Blocker)** | 修正必須。論理的欠陥、仕様漏れ、重大なリスク、回答必須の質問 |
| **P1 (Nit)** | 提案。より良い手法、軽微な懸念、参考情報 |

#### 指摘一覧

P0: 該当なし

**[P1-1] `arch.md` の「状態遷移の不変条件」に含まれる陳腐化した記述の移行方針が不明確**
- **対象セクション**: セクション5.1（既存ドキュメントの内容マッピング）
- **内容**: マッピング表では `arch.md` > 状態遷移の不変条件を `domain-model.md` へ移行する計画であるが、現行の `arch.md` の不変条件セクション（行132-134）には「`delivered` は `false` → `true` への遷移のみ」という陳腐化した記述が含まれている。一方、`domain-model.md` の設計案（セクション5.2）では正しく「`last_delivered_at IS NULL` → タイムスタンプ設定」と記載されている。マッピング表の「移行」という表現が「既存記述をそのまま転記する」と誤解される余地がある。セクション5.1 の冒頭に「陳腐化した記述はコードベースに基づいて更新する」と明記されているため実害は小さいが、マッピング表の備考欄に「コードベースに基づき更新」と補記すれば、より明確になる。
- **修正の期待値**: マッピング表の `arch.md` > 状態遷移の不変条件の備考欄に「配信判定方式をコードベースに基づき更新」等を補記すること。

**[P1-2] `api-overview.md` の CLI インターフェースセクションの詳細度が他セクションと不均衡**
- **対象セクション**: セクション5.2（新ドキュメントの構成 > `docs/api-overview.md`）
- **内容**: Web サーバーエンドポイントは `GET /` と `GET /p/:token` のレスポンス詳細（ステータスコード、レスポンス形式）まで記載されているのに対し、CLI インターフェースは「コマンド体系（job, run-due, mail, doctor, db, serve）」「各コマンドのサブコマンドとオプション」という目次レベルの記載にとどまっている。CLAUDE.md 規約の「エンドポイント一覧」は主に Web API を想定しているため CLI の詳細度が低いのは許容範囲であるが、`serve` コマンドの `--host` / `--port` オプションのように Web エンドポイントの挙動に直接影響するオプションは、Web サーバーエンドポイントセクションとの関連を示す形で記載があると有用である。
- **修正の期待値**: CLI インターフェースセクションに `serve` コマンドのオプション（`--host`, `--port`、デフォルト値）を記載するか、Web サーバーエンドポイントセクションに起動オプションへの言及を追加すること。

**[P1-3] `ops.md` の内容と新ドキュメントの重複可能性への言及がない**
- **対象セクション**: セクション3（Goals & Non-Goals）、セクション7.4（マイグレーションと後方互換性）
- **内容**: `ops.md` を維持する判断自体は妥当であるが、`ops.md` には systemd サービス構成やコマンド一覧が含まれており、新ドキュメントの `architecture.md`（デプロイ構成: systemd サービス）や `api-overview.md`（CLI インターフェース: コマンド体系）と内容が部分的に重複する可能性がある。重複自体はドキュメントの目的が異なるため許容されるが、どの程度の重複を許容するか、または相互参照で解決するかの方針が明示されていない。
- **修正の期待値**: `architecture.md` のデプロイ構成セクションや `api-overview.md` の CLI セクションにおいて、詳細な運用手順は `ops.md` を参照する旨を記載する方針を補記すること。これにより、新ドキュメント作成時に `ops.md` と不要な重複を避ける指針が明確になる。
